{% extends 'base.html' %}
{% block content %}
<div class="container py-2">
    <div class="row justify-content-center ">
        <div class="col-12 col-sm-10">
            <div class="card mx auto shadow">
                <div class="container py-5">
                    <div class="row text-center mt-1">
                        <h2>Créer une critique</h2>
                    </div>
                    <form role="form" enctype="multipart/form-data" action="" method="post" novalidate>
                        <div class="container text-center">
                            {% csrf_token %}
                            <div class="row justify-content-center">
                                <div class=" col-12 col-sm-11 col-md-9 col-lg-8">
                                    <input class="form-control mt-4" id="{{ ticket_form.title.id_for_label }}"
                                        name="{{ ticket_form.title.html_name }}" type="text"
                                        placeholder="Titre de l'article ou du livre..." />
                                    {% if ticket_form.errors %}
                                    {% for error in ticket_form.title.errors %}
                                    <div class="list-group-item-danger text-black">
                                        <strong class="border">{{ error|escape }}</strong>
                                    </div>
                                    {% endfor %}
                                    {% endif %}
                                    <br />
                                    <h6 class="mt-1">Ajouter des précisions (facultatif)</h6>
                                    <textarea class="form-control mt-3" id="{{ ticket_form.description.id_for_label }}" rows="2"
                                        cols="50" name="{{ ticket_form.description.html_name }}"
                                        placeholder="Description..."></textarea>
                                    {% if ticket_form.errors %}
                                    {% for error in ticket_form.description.errors %}
                                    <div class="list-group-item-danger text-black">
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                    {% endfor %}
                                    {% endif %}
                                    <h6 class="mt-3">Ajouter une Image (facultatif)</h6>
                                    <input class="form-control mt-3 mb-3" id="{{ ticket_form.image.id_for_label }}"
                                        name="{{ ticket_form.image.html_name }}" type="file" />
                                    {% if form.errors %}
                                    {% for error in ticket_form.image.errors %}
                                    <div class="list-group-item-danger text-black">
                                        <strong>{{ error|escape }}</strong>
                                    </div>
                                    {% endfor %}
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="card shadow mt-1">
                            <h4 class="card-header text-center bg-warning"><strong>Votre critique</strong></h4>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-12 col-sm-12 col-md-7 col-lg-5">
                                        <input class="form-control mt-3" id="{{ answer_form.rating.id_for_label }}"
                                            name="{{ answer_form.rating.html_name }}" type="number" placeholder="Votre note entre 0 et 5" min="0"
                                            max="5" />
                                        {% if answer_form.errors %}
                                        {% for error in answer_form.rating.errors %}
                                        <div class="list-group-item-danger text-black">
                                            <strong>{{ error|escape }}</strong>
                                        </div>
                                        {% endfor %}
                                        {% endif %}
                                    </div>
                                </div>
                                <input class="form-control mt-3" id="{{ answer_form.headline.id_for_label }}" name="{{ answer_form.headline.html_name }}"
                                    type="text" placeholder="Votre en-tête..." />
                                {% if answer_form.errors %}
                                {% for error in answer_form.headline.errors %}
                                <div class="list-group-item-danger text-black">
                                    <strong>{{ error|escape }}</strong>
                                </div>
                                {% endfor %}
                                {% endif %}
                                <textarea class="form-control text-black mt-3 mb-2" id="{{ answer_form.body.id_for_label }}" rows="4"
                                    name="{{ answer_form.body.html_name }}" placeholder="Votre avis..."></textarea>
                                {% if answer_form.errors %}
                                {% for error in answer_form.body.errors %}
                                <div class="list-group-item-danger text-black">
                                    <strong>{{ error|escape }}</strong>
                                </div>
                                {% endfor %}
                                {% endif %}
                            </div>
                        </div>
                        <div class="row justify-content-center">
                            <div class=" col-12 col-sm-11 col-md-9 col-lg-8">
                                <div class="row pt-2 px-1">
                                    <button type="submit" class="btn btn-success mt-3"><strong>Publier</strong></button>
                                </div>
                            </div>
                        </div>
                    </form>
                    <div class="row justify-content-center">
                        <div class=" col-12 col-sm-11 col-md-9 col-lg-8">
                            <div class="row py-2 px-1">
                                <button onclick=window.location.href="{% url 'login' %}"
                                    class="btn btn-secondary text-white my-2"
                                    value="go to login"><strong>Retour</strong></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}